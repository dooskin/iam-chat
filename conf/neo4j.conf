#*****************************************************************
# Neo4j configuration
#*****************************************************************

# The name of the database to mount
dbms.default_database=neo4j

# Paths of directories in the installation.
server.directories.data=./data
server.directories.plugins=./plugins
server.directories.logs=./logs
server.directories.import=./import
server.directories.lib=./lib

# Network connector configuration
dbms.default.advertised_address=0.0.0.0
dbms.default.listen_address=0.0.0.0
dbms.connector.bolt.enabled=true
dbms.connector.bolt.listen_address=0.0.0.0:7687
dbms.connector.http.enabled=true
dbms.connector.http.listen_address=0.0.0.0:7474

# Logging configuration
dbms.logs.debug.level=INFO
dbms.logs.query.enabled=true
dbms.logs.query.threshold=0
dbms.logs.query.rotation.keep_number=7
dbms.logs.query.rotation.size=20m

# Memory settings - optimized for Replit environment
server.memory.pagecache.size=256M
server.memory.heap.initial_size=256M
server.memory.heap.max_size=512M

# Transaction logs location
dbms.tx_log.rotation.retention_policy=1 days
dbms.tx_log.rotation.size=50M

# Security configuration - using environment variables
dbms.security.auth_enabled=true
dbms.security.allow_csv_import_from_file_urls=true
dbms.security.procedures.unrestricted=apoc.*,algo.*
dbms.security.procedures.allowlist=apoc.*,algo.*

# Enable Neo4j Browser
browser.remote_content_hostname_whitelist=*
browser.allow_outgoing_connections=true
