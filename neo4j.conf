# Neo4j 5.x Configuration optimized for Cartography and vector store integration

# Core Settings
server.default_listen_address=0.0.0.0
server.memory.heap.initial_size=1G
server.memory.heap.max_size=2G
server.memory.pagecache.size=1G

# Network Settings
server.bolt.enabled=true
server.bolt.listen_address=0.0.0.0:7687
server.bolt.advertised_address=0.0.0.0:7687
server.http.enabled=true
server.http.listen_address=0.0.0.0:7474
server.http.advertised_address=0.0.0.0:7474

# Security Settings
dbms.security.auth_enabled=true
dbms.security.procedures.unrestricted=gds.*,apoc.*,algo.*
dbms.security.procedures.allowlist=gds.*,apoc.*,algo.*
dbms.security.allow_csv_import_from_file_urls=true

# Database Settings
initial.dbms.default_database=neo4j
dbms.transaction.timeout=5m
dbms.memory.transaction.global_max_size=2G
dbms.memory.transaction.max_size=1G
dbms.transaction.concurrent.maximum=100

# APOC Settings for Cartography
apoc.import.file.enabled=true
apoc.export.file.enabled=true
apoc.import.file.use_neo4j_config=false

# Graph Data Science Settings
gds.enterprise.license_file=/licenses/gds.license

# Performance Tuning
dbms.memory.off_heap.max_size=2G
dbms.memory.pagecache.flush.buffer.size_in_pages=100
dbms.jvm.additional=-XX:+UseG1GC
dbms.memory.heap.load_more_aggressive=true

# Cartography Specific Settings
dbms.security.procedures.whitelist=apoc.*,gds.*,algo.*
dbms.allow_upgrade=true

# Logging Settings
dbms.logs.debug.level=INFO
dbms.logs.query.enabled=true
dbms.logs.query.rotation.keep_number=10
dbms.logs.query.rotation.size=20m

# Browser Settings
browser.remote_content_hostname_whitelist=*
browser.allow_outgoing_connections=true
